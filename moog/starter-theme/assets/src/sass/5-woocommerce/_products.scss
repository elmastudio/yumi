// Products Filter
.wc-block-components-sort-select,
.woocommerce-ordering {
	position: absolute;
	top: 0;
	right: 0;
	margin: 0;
	text-align: right;

	&:after {
		content: "";
		position: absolute;
		top: 0;
		right: 0.75rem;
		height: 100%;
		width: 1rem;
		background-image: url(/assets/images/arrowdown16px.svg) !important;
		background-repeat: no-repeat;
		background-position: center center;
	}

	&__label {
		display: none;
	}

	.orderby,
	&__select {
		display: inline-flex;
		justify-content: flex-end;
		padding: 0.75rem;
		min-width: 13rem;
		background-color: var(--wp--preset--color--background-primary);
		color: var(--wp--preset--color--text-secondary);
		border: 1px solid var(--wp--preset--color--input-border);
		border-radius: var(--global--border-radius-xxs);
		line-height: var(--global--line-height-reset);
		-webkit-tap-highlight-color: transparent;
		-webkit-appearance: none;
		box-sizing: border-box;
		cursor: pointer;
		overflow: visible;

		&:active,
		&:focus {
			outline: none;
		}
	}
}

// Products grid
.wc-block-grid__products,
.archive .products {
	display: grid !important;
	@include gap-s;
	row-gap: var(--wp--preset--spacing--10);
	list-style-type: none;
	margin: 0;
	grid-auto-rows: auto;

	//one product conponent
	.wc-block-grid__product,
	.product {
		position: relative;
		align-self: start;
		font-size: inherit !important;
		max-width: 100% !important;
		border: none;
		text-align: left;
		padding: 0 !important;

		.wc-block-components-product-image {
			margin-bottom: 0;
		}

		.wc-block-grid {

			&__product-add-to-cart,
			&__product-onsale,
			&__product-price,
			&__product-rating {
				margin: 0;
			}

			&__product-title,
			&__product-price {
				display: flex;
				align-items: center;

				ins {
					margin-left: 0.5em;
				}
			}
		}
	}
}

.columns-1 .wc-block-grid__products,
.products.columns-1 {
	grid-template-columns: repeat(1, 1fr);
}

.has-2-columns .wc-block-grid__products,
.products.columns-2 {
	grid-template-columns: repeat(2, 1fr);
}

.has-3-columns .wc-block-grid__products,
.products.columns-3 {
	grid-template-columns: repeat(2, 1fr);

	@include breakpoint(md) {
		grid-template-columns: repeat(3, 1fr);
	}
}

.has-4-columns .wc-block-grid__products,
.products.columns-4 {
	grid-template-columns: repeat(2, 1fr);

	@include breakpoint(md) {
		grid-template-columns: repeat(4, 1fr);
	}
}

.has-5-columns .wc-block-grid__products,
.products.columns-5 {
	grid-template-columns: repeat(2, 1fr);

	@include breakpoint(md) {
		grid-template-columns: repeat(5, 1fr);
	}
}

.has-6-columns .wc-block-grid__products,
.products.columns-6 {
	grid-template-columns: repeat(2, 1fr);

	@include breakpoint(md) {
		grid-template-columns: repeat(6, 1fr);
	}
}

// Smaller products components
.wc-block-grid__product-price .wc-block-grid__product-price__regular,
.wc-block-components-order-summary-item__regular-individual-price {
	color: var(--wp--preset--color--font-tertiary);
	font-weight: var(--wp--custom--font-weight--body);
	margin-right: 0;
}

// Product archives pagination
.wc-block-pagination,
.woocommerce-pagination {
	padding-top: var(--wp--preset--spacing--10);

	.wc-block-components-pagination__ellipsis,
	.wc-block-components-pagination__page,
	.page-numbers li a {
		display: inline-block;
		background: var(--wp--preset--color--background-primary);
		color: var(--wp--preset--color--neutral-primary);
		border: 1px solid var(--wp--preset--color--neutral-quarternary);
		min-width: auto;
		margin: 0 6px;
		padding: 0.75rem 1rem;
		font-size: 1rem;
		border-radius: var(--global--border-radius-xxs);
		line-height: var(--global--line-height-reset);
		cursor: pointer;
		transition: all .3s ease;

		&:hover {
			background: var(--wp--preset--color--neutral-tertiary);
		}

		&--active[disabled],
		.page-numbers li .current {
			cursor: auto;
			background: var(--wp--preset--color--neutral-primary);
			color: var(--wp--preset--color--light);
			font-weight: var(--wp--custom--font-weight--body);
		}
	}
}

.page-numbers {
	list-style: none;
	display: flex;
	justify-content: center;

	li .current {
		display: inline-block;
		margin: 0 6px;
		padding: 0.75rem 1rem;
		font-size: 1rem;
		background: var(--wp--preset--color--neutral-primary);
		color: var(--wp--preset--color--light);
		line-height: var(--global--line-height-reset);
		border-radius: var(--global--border-radius-xxs);
	}
}

// Product components in grid
.wc-block-grid__product .wc-block-grid__product-title {
	margin: var(--wp--preset--spacing--4) 0 0 !important;
}

.related .price,
.woocommerce-loop-product__title,
.wc-block-grid__product-title,
.wc-block-grid__product-price {
	display: flex;
	color: var(--wp--preset--color--font-primary);
}

// Add to cart icon
.wc-block-grid__product-add-to-cart {
	width: 1.5rem;
	height: 1.5rem;
	position: absolute;
	bottom: 16px;
	right: 0;
	overflow: hidden;
}

.product .add_to_cart_button,
.wc-block-grid__product .add_to_cart_button {
	opacity: 0;
	position: absolute;
	bottom: 0;
	right: 0;
	overflow: hidden;
	white-space: nowrap;
	transition: transform .15s linear;
	width: 1.5rem;
	height: 1.5rem;
	text-indent: -9000px;
	background-color: transparent !important;
	background-repeat: no-repeat;
	background-position: center center;
	transition: opacity .15s linear, color .15s linear, background .15s linear;
}

.product .add_to_cart_button,
.wc-block-grid__product .add_to_cart_button {
	background-image: url(/assets/images/cartplus.svg) !important;
}

.product .product_type_variable.add_to_cart_button {
	background-image: url(/assets/images/dotsthreevertical.svg) !important;
}

li.product .button:not(.add_to_cart_button) {
	display: none;
}

.wc-block-grid__product,
li.product {

	&:hover {

		.add_to_cart_button {
			opacity: 1;
		}
	}
}

.woocommerce-loop-product__link {
	display: block;
}

.woocommerce-loop-product__title {
	padding: var(--wp--preset--spacing--3) 0 0 !important;
}

// All Products block with filter needs padding at top for fixed positioned filter
.products-container .wc-block-grid__products,
.archive .products,
.woocommerce-no-products-found {
	margin-top: 4rem;
}
.products-container {
	.woocommerce-notices-wrapper {
		margin-top: 4rem;
	}
}

// Products Archive legacy template. To be removed once blockified.
.woocommerce-products-header,
.woocommerce-result-count {
	display: none;
}

.products-container {
	position: relative;
}
.woocommerce-ordering {
	position: absolute;
	top: 0;
	right: 0;
	display: flex;
	justify-content: flex-end;
}

.archive .woocommerce-breadcrumb {
	display: none;
	position: absolute;
	top: 0;
	left: 0;

	@include breakpoint(md) {
		display: block;
	}
}